{"version":3,"sources":["../../src/pages/components/native-login/native-login.module.ts","../../src/pages/components/native-login/native-login.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAAyC;AACO;AACC;AAajD,IAAa,qBAAqB;IAAlC;IAAoC,CAAC;IAAD,4BAAC;AAAD,CAAC;AAAxB,qBAAqB;IAXjC,+DAAQ,CAAC;QACR,YAAY,EAAE;YACZ,sEAAe;SAChB;QACD,OAAO,EAAE;YACP,sEAAe,CAAC,QAAQ,CAAC,sEAAe,CAAC;SAC1C;QACD,OAAO,EAAE;YACP,sEAAe;SAChB;KACF,CAAC;GACW,qBAAqB,CAAG;AAAH;;;;;;;;;;;;;;;;;;;;;;;;;;;ACfQ;AACgC;AACnB;AACkB;AACrB;AACpB;AACqB;AAErD;;;;;GAKG;AAMH,IAAa,eAAe;IAG5B,yBAAmB,OAAsB,EAAS,SAAoB,EAAS,UAAsB,EAAU,EAAY,EAAS,SAA0B,EAAS,MAAuB;QAA3K,YAAO,GAAP,OAAO,CAAe;QAAS,cAAS,GAAT,SAAS,CAAW;QAAS,eAAU,GAAV,UAAU,CAAY;QAAU,OAAE,GAAF,EAAE,CAAU;QAAS,cAAS,GAAT,SAAS,CAAiB;QAAS,WAAM,GAAN,MAAM,CAAiB;IAE5L,CAAC;IAED,qCAAW,GAAX;QACE,IAAI,IAAI,GAAG,IAAI,CAAC;QAChB,IAAI,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,gBAAgB,EAAE,cAAc,EAAE,OAAO,CAAC,CAAC;aACzD,IAAI,CAAC,UAAC,GAA0B;YAC/B,KAAK,CAAC,+BAA+B,CAAC,CAAC;YACvC,IAAI,CAAC,MAAM,GAAG,GAAG,CAAC;YAClB,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,iBAAgB;YAGjC,IAAM,kBAAkB,GAAG,gDAAQ,CAAC,IAAI,CAAC,oBAAoB;iBACxD,UAAU,CAAC,GAAG,CAAC,YAAY,CAAC,WAAW,CAAC,CAAC;YAE9C,gDAAQ,CAAC,IAAI,EAAE,CAAC,oBAAoB,CAAC,kBAAkB,CAAC;iBACnD,IAAI,CAAC,kBAAQ;gBACV,yDAAyD;gBACzD,gDAAQ,CAAC,QAAQ,EAAE,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC,KAAK,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC;oBAC5D,KAAK,EAAE,QAAQ,CAAC,KAAK;oBACrB,IAAI,EAAE,QAAQ,CAAC,WAAW;oBAC1B,GAAG,EAAE,QAAQ,CAAC,QAAQ;iBACzB,CAAC,CAAC;YACP,CAAC,CAAC,CAAC;QAGT,CAAC,CAAC;aACD,KAAK,CAAC,WAAC,IAAI,cAAO,CAAC,GAAG,CAAC,6BAA6B,EAAE,CAAC,CAAC,EAA7C,CAA6C,CAAC,CAAC;IAC7D,CAAC;IAED,6CAAmB,GAAnB;QACE,IAAI,IAAI,GAAG,IAAI,CAAC;QAChB,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC;YAClB,aAAa,EAAE,mEAAW;YAC5B,SAAS,EAAE,IAAI;SAChB,CAAC;aACG,IAAI,CAAC,aAAG;YACN,WAAW;YACV,KAAK,CAAC,+BAA+B,CAAC,CAAC;YACvC,IAAI,CAAC,IAAI,GAAG,GAAG,CAAC;YAChB,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,CAAC,gBAAgB;YAEpC,IAAM,gBAAgB,GAAG,gDAAQ,CAAC,IAAI,CAAC,kBAAkB;iBACpD,UAAU,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;YAE7B,gDAAQ,CAAC,IAAI,EAAE,CAAC,oBAAoB,CAAC,gBAAgB,CAAC;iBACjD,IAAI,CAAC,kBAAQ;gBACV,yDAAyD;gBACzD,gDAAQ,CAAC,QAAQ,EAAE,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC,KAAK,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC;oBAC5D,KAAK,EAAE,QAAQ,CAAC,KAAK;oBACrB,IAAI,EAAE,QAAQ,CAAC,WAAW;oBAC1B,GAAG,EAAE,QAAQ,CAAC,QAAQ;iBACzB,CAAC,CAAC;YACP,CAAC,CAAC,CAAC;QAEX,CAAC,CAAC;aACD,KAAK,CAAC,aAAG;YACN,KAAK,CAAC,oBAAoB,GAAG,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,CAAC;QACtD,CAAC,CAAC,CAAC;IACT,CAAC;IAED,gCAAM,GAAN;QACE,IAAI,IAAI,GAAG,IAAI,CAAC;QAChB,IAAI,CAAC,UAAU,CAAC,MAAM,EAAE,CAAC,IAAI,CAAC;YAC5B,KAAK,CAAC,YAAY,CAAC,CAAC;YACpB,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;QACnB,CAAC,CAAC;IACJ,CAAC;IAED,kCAAQ,GAAR;QACE,IAAI,IAAI,GAAG,IAAI,CAAC;QAChB,IAAI,CAAC,EAAE,CAAC,MAAM,EAAE,CAAC,IAAI,CAAC;YACpB,KAAK,CAAC,YAAY,CAAC,CAAC;YACpB,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;QACrB,CAAC,CAAC;IACJ,CAAC;IAED,wCAAc,GAAd;QACI,OAAO,CAAC,GAAG,CAAC,gCAAgC,CAAC,CAAC;QAC9C,EAAE,CAAC,CAAC,CAAO,MAAO,CAAC,OAAO,CAAC,CAAC,CAAC;YACzB,6BAA6B;YAC7B,IAAI,OAAK,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC;gBAC9B,KAAK,EAAE,WAAW;gBAClB,QAAQ,EAAE,2HAA2H;gBACrI,OAAO,EAAE,CAAC,IAAI,CAAC;aAClB,CAAC,CAAC;YACH,OAAK,CAAC,OAAO,EAAE,CAAC;QACpB,CAAC;IACL,CAAC;IAEH,sBAAC;AAAD,CAAC;AA9FY,eAAe;IAJ3B,gEAAS,CAAC;QACT,QAAQ,EAAE,mBAAmB;OACG;KACjC,CAAC;oBAI4L;AA2F7L;SA9FY,eAAe,gB","file":"39.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { NativeLoginPage } from './native-login';\n\n@NgModule({\n  declarations: [\n    NativeLoginPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(NativeLoginPage),\n  ],\n  exports: [\n    NativeLoginPage\n  ]\n})\nexport class NativeLoginPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/components/native-login/native-login.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, AlertController } from 'ionic-angular';\nimport { GooglePlus } from '@ionic-native/google-plus';\nimport { Facebook, FacebookLoginResponse } from '@ionic-native/facebook';\nimport { AngularFireAuth } from \"angularfire2/auth\";\nimport firebase from 'firebase';\nimport { webClientId } from '../../../config/config';\n\n/**\n * Generated class for the NativeLoginPage page.\n *\n * See http://ionicframework.com/docs/components/#navigation for more info\n * on Ionic pages and navigation.\n */\n@IonicPage()\n@Component({\n  selector: 'page-native-login',\n  templateUrl: 'native-login.html',\n})\nexport class NativeLoginPage {\ndata: any;\ndataFb: any;\nconstructor(public navCtrl: NavController, public navParams: NavParams, public googlePlus: GooglePlus, private fb: Facebook, public alertCtrl: AlertController, public afAuth: AngularFireAuth) {\n\n  }\n\n  loginWithFb(){\n    let that = this;\n    this.fb.login(['public_profile', 'user_friends', 'email'])\n    .then((res: FacebookLoginResponse) => {\n      alert('Logged-in succesfully with fp');\n      that.dataFb = res;\n      that.data = null;//remove g+ data\n\n\n      const facebookCredential = firebase.auth.FacebookAuthProvider\n          .credential(res.authResponse.accessToken);\n\n      firebase.auth().signInWithCredential(facebookCredential)\n          .then(response => {\n              //alert(\"Firebase success: \" + JSON.stringify(response));\n              firebase.database().ref('/userProfile').child(response.uid).set({\n                  email: response.email,\n                  name: response.displayName,\n                  pic: response.photoURL,\n              });\n          });\n\n\n    })\n    .catch(e => console.log('Error logging into Facebook', e));\n  }\n\n  loginWithGooglePlus(){\n    let that = this;\n    this.googlePlus.login({\n        'webClientId': webClientId,\n      'offline': true\n    })\n        .then(res => {\n           //logged in\n            alert(\"Logged-in succesfully with g+\");\n            that.data = res;\n            that.dataFb = null; //remove fb data\n            \n            const googleCredential = firebase.auth.GoogleAuthProvider\n                .credential(res.idToken);\n\n            firebase.auth().signInWithCredential(googleCredential)\n                .then(response => {\n                    //alert(\"Firebase success: \" + JSON.stringify(response));\n                    firebase.database().ref('/userProfile').child(response.uid).set({\n                        email: response.email,\n                        name: response.displayName,\n                        pic: response.photoURL,\n                    });\n                });\n            \n        })\n        .catch(err => {\n            alert(\"There is an error \" + JSON.stringify(err));\n        });\n  }\n\n  logout(){\n    let that = this;\n    this.googlePlus.logout().then(()=>{\n      alert(\"Logged out\");\n      that.data = null;\n    })\n  }\n\n  logoutFb(){\n    let that = this;\n    this.fb.logout().then(()=>{\n      alert(\"Logged out\");\n      that.dataFb = null;\n    })\n  }\n\n  ionViewDidLoad() {\n      console.log('ionViewDidLoad NativeLoginPage');\n      if (!(<any>window).cordova) {\n          // running on desktop browser\n          let alert = this.alertCtrl.create({\n              title: 'Attention',\n              subTitle: 'You are running your code on a desktop browser, to be able to use this feature you need to run it on a device or emulator',\n              buttons: ['OK']\n          });\n          alert.present();\n      }\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/components/native-login/native-login.ts"],"sourceRoot":""}