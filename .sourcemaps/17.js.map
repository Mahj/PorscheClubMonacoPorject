{"version":3,"sources":["../../src/pages/components/restaurant-menu/main/main.ts","../../src/pages/components/restaurant-menu/main/main.module.ts"],"names":[],"mappings":"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","file":"17.js","sourcesContent":["import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, LoadingController, ModalController, PopoverController, Platform, AlertController, ToastController } from 'ionic-angular';\nimport { AngularFireDatabase } from 'angularfire2/database-deprecated';\nimport { DatabaseProvider } from '../../../../providers/database/database';\nimport { CallNumber } from \"@ionic-native/call-number\";\nimport { googleMapsApi } from \"../../../../config/config\";\n\n@IonicPage({\n    name: 'RestaurantCategoryPage',\n    segment: 'restaurant-category-reference'\n})\n@Component({\n  selector: 'page-category-restaurant',\n  templateUrl: 'main.html'\n})\n\nexport class RestaurantCategoryPage {\n  viewType: string = \"Menu\";\n  categories: any[] = [];\n  items: any[] = [];\n  restaurantInfo: {} = {\n      address: '123 sw 123 st',\n      phone: '(123)-123-1234',\n      web: 'www.webpage.com',\n      lat: '25.7418723',\n      lng: '-80.3510726',\n      location: 'Miami, FL'\n  };\n  mapKey = googleMapsApi;\n\n  constructor(public navCtrl: NavController, public navParams: NavParams, public loadingCtrl: LoadingController, public afDB: AngularFireDatabase,\n      public db: DatabaseProvider, public modalCtrl: ModalController, public popoverCtrl: PopoverController, public platform: Platform, public alertCtrl: AlertController,\n      private callNumber: CallNumber, private toastCtrl: ToastController) {\n    let loadingPopup = this.loadingCtrl.create({\n      spinner: 'crescent', \n      content: ''\n    });\n    loadingPopup.present();\n\n    let that = this;\n    db.getAllDocuments('restaurant')\n        .then(function (e) {\n            if (!!e) {\n                console.log(e)\n                that.categories = e;\n                let promoArr = [];\n\n                e.forEach((p) => { \n                    db.getSubCategoryCondition('restaurant', p.$key, 'sub', ['promotion', '==', true])\n                    .then(function (promotions) {\n                        \n                        if (!!promotions) {\n                            promotions.forEach((k) => {\n                                k.$parentKey = p.$key;\n                            })\n                            promoArr.push.apply(promoArr, promotions);\n                        }\n                    });\n                });\n                that.items = promoArr;\n            }\n\n            loadingPopup.dismiss()\n        });\n      \n  }\n\n\n  showMap() {\n      let mapModal = this.modalCtrl.create('RestaurantMapPage', { info: this.restaurantInfo });\n      mapModal.present();\n  }\n\n  openList(obj){\n      this.navCtrl.push('RestaurantListPage',{categoryId:obj.$key, name: obj.name }); \n  }\n\n  goToDetail(obj){\n      this.navCtrl.push('RestaurantDetailPage', { itemId: obj.$parentKey, subDoc: obj.$key}); \n  }\n\n  presentPopover(myEvent) {\n      let popover = this.popoverCtrl.create('RestaurantPopoverPage');\n      popover.present({\n          ev: myEvent\n      });\n\n      popover.onDidDismiss(data => {\n          switch (data) {\n              case 1:\n                  this.viewType = 'Menu'\n                  break;\n              case 2:\n                  this.viewType = 'Promotion'\n                  break;\n              case 3:\n                  this.viewType = 'About'\n                  break;\n          }\n      });\n  }\n\n  launchNavigation(latitude, longitude, label = 'map') {\n      let destination = latitude + ',' + longitude;\n\n      if (this.platform.is('ios')) {\n          window.open('maps://?q=' + destination, '_system');\n      } else {\n          let label = encodeURI('My Label');\n          window.open('geo:0,0?q=' + destination + '(' + label + ')', '_system');\n      }\n  }\n\n  MakeCall(number) {\n      if (!(<any>window).cordova) {\n          let alert = this.alertCtrl.create({\n              title: 'Attention',\n              subTitle: 'This platform is not compatible with this functionality',\n              buttons: ['OK']\n          });\n          alert.present();\n          return;\n      }\n      if (this.callNumber.isCallSupported()) {\n          this.callNumber.callNumber(number, true)\n              .then(() => {\n                  console.log('Launched dialer!')\n              })\n              .catch(() => {\n                  this.presentToast('bottom', 'launching dialer Failed');\n                  console.log('Error launching dialer')\n              });\n      } else {\n          let alert = this.alertCtrl.create({\n              title: 'Attention',\n              subTitle: 'This platform is not compatible with this functionality',\n              buttons: ['OK']\n          });\n          alert.present();\n      }\n  }\n\n  presentToast(position: string, message: string) {\n      let toast = this.toastCtrl.create({\n          message: message,\n          position: position,\n          duration: 1000\n      });\n      toast.present();\n  }\n    \n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/components/restaurant-menu/main/main.ts","import { NgModule } from '@angular/core';\nimport { RestaurantCategoryPage } from './main';\nimport { IonicPageModule } from 'ionic-angular';\n\n@NgModule({\n  declarations: [\n      RestaurantCategoryPage,\n  ],\n  imports: [\n      IonicPageModule.forChild(RestaurantCategoryPage),\n  ],\n  exports: [\n      RestaurantCategoryPage\n  ]\n})\nexport class RestaurantCategoryPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/components/restaurant-menu/main/main.module.ts"],"sourceRoot":""}