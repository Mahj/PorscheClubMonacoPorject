{"version":3,"sources":["../../src/pages/main/main.ts","../../src/pages/main/main.module.ts","../../node_modules/rxjs/BehaviorSubject.js"],"names":[],"mappings":"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","file":"7.js","sourcesContent":["import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, Platform, AlertController } from 'ionic-angular';\nimport { Push, PushObject, PushOptions } from '@ionic-native/push';\nimport { AngularFireAuth } from \"angularfire2/auth\";\nimport { AngularFireDatabase } from 'angularfire2/database-deprecated';\nimport { config } from '../../config/config';\nimport { BehaviorSubject } from 'rxjs/BehaviorSubject';\nimport firebase from 'firebase';\n\n/**\n * Generated class for the MainPage page.\n *\n * See http://ionicframework.com/docs/components/#navigation for more info\n * on Ionic pages and navigation.\n */\n@IonicPage()\n@Component({\n  selector: 'page-main',\n  templateUrl: 'main.html',\n})\nexport class MainPage {\n    searchTerm: any;\n    filtered: any;\n    intro: {\n        icon: string;\n        title: string;\n        component: string;\n    };\n    menu: {\n        title: string;\n        myicon: string;\n        iconLeft: string;\n        icon: string;\n        showDetails: boolean;\n        items: {\n            name: string;\n            component: string;\n        }[];\n    }[];\n    pages: {\n        icon: string;\n        title: string;\n        component: string;\n    }[];\n\n    messaging:any\n    currentMessage = new BehaviorSubject(null)\n\n    constructor(private navCtrl: NavController, private navParams: NavParams, private push: Push, private afAuth: AngularFireAuth, private afDB: AngularFireDatabase, private platform: Platform,\n        private alertCtrl: AlertController) {\n\n        this.intro = { icon: 'ios-book', title: 'Intro', component: \"IntroPage\" };\n\n        this.menu = [\n            {\n                title: 'Components and Features',\n                myicon: '',\n                iconLeft: 'md-filing',\n                icon: 'ios-add-outline',\n                showDetails: false,\n                items: [\n                    { name: 'Login', component: 'LoginPage' },\n                    { name: 'Login PWA', component: 'LoginPwaPage' },\n                    { name: 'Register', component: 'RegisterPage' },\n                    { name: 'Recover Pass', component: 'RecoverPage' },\n                    { name: 'Logged-in Profile', component: 'AfterLoginPage' },\n                    { name: 'Admob', component: 'AdmobPage' },\n                    { name: 'Charts', component: 'CoverChartPage' },\n                    { name: 'Rate The App', component: 'RatePage' },\n                    { name: 'Chat', component: 'ContactsPage' },\n                    { name: 'Landing', component: 'LoginBackgroundVideoPage' },\n                    { name: 'Landing Video', component: 'LandingPage' },\n                    { name: 'Calendar', component: 'CalendarPage' },\n\n                    { name: 'Discover Places', component: 'CityCategoryPage' },\n                    { name: 'e-commerce Shopping', component: 'ShoppingCategoryPage' },\n                    { name: 'Restaurant Menu', component: 'RestaurantCategoryPage' },\n                    { name: 'Cart', component: 'CartPage' },\n                    { name: 'Places Map', component: 'MapPage' },\n                    { name: 'Photo gallery', component: 'PhotosPage' },\n                    { name: 'Social Feed Cards', component: 'FeedPage' },\n                    { name: 'Example of CRUD', component: 'FormResultPage' },\n\n                    { name: 'Profile Social', component: 'ProfileSocialPage' },\n                    { name: 'Profile Corporate', component: 'ProfileCorporatePage' },\n                    { name: 'Profile with Gallery', component: 'ProfileGalleryPage' },\n                    { name: 'Profile with tabs', component: 'ProfileTabsPage' },\n\n                    { name: 'Social Contacts', component: 'SearchPage' },\n                    { name: 'Social Timeline', component: 'TimelinePage' },\n                    { name: 'Notifications', component: 'NotificationsPage' },\n                    { name: 'Weather', component: 'WeatherPage' }\n                ]\n            }\n        ];\n\n        this.pages = [\n            { icon: 'md-aperture', title: 'Theme Color', component: \"ThemePage\" }\n        ];\n\n        this.platform.ready().then(() => {\n\n            if ((<any>window).cordova) {\n                this.setUpPushNotification();\n            } else {\n                if (!firebase.apps.length) {\n                    firebase.initializeApp(config);\n                }\n                this.messaging = firebase.messaging();\n\n                this.getPermission();\n                this.receiveMessage();\n                this.currentMessage.subscribe((notification) => {\n                    if (!notification || !notification.additionalData || !notification.additionalData.extras) {\n                        return;\n                    }\n                    this.navCtrl.push('NotificationsPage', { title: notification.additionalData.extras.landingTitle, body: notification.additionalData.extras.landingText }); \n                });\n            }\n        });\n  }\n\n  ionViewDidLoad() {\n      console.log('ionViewDidLoad MainPage');\n      this.setFilteredItems();\n  }\n\n  toggleDetails(menu) {\n      if (menu.showDetails) {\n          menu.showDetails = false;\n          menu.icon = 'ios-add-outline';\n      } else {\n          menu.showDetails = true;\n          menu.icon = 'ios-remove-outline';\n      }\n  }\n\n  openPage(page) {\n      this.navCtrl.push(page.component).catch(err => console.error(err));\n  }\n\n  setFilteredItems() {\n      this.filtered = this.filterItems(this.menu[0].items, this.searchTerm);\n  }\n\n  filterItems(items, searchTerm) {\n      if (!!searchTerm && searchTerm != '') {\n          return items.filter((item) => {\n              return item.name.toLowerCase().indexOf(searchTerm.toLowerCase()) > -1;\n          });\n      } else {\n          return items;\n      }\n  }\n\n\n  setUpPushNotification() {\n      const options: PushOptions = {\n          android: {\n              senderID: config.messagingSenderId\n          },\n          ios: {\n              alert: 'true',\n              badge: true,\n              sound: 'false'\n          },\n          windows: {},\n          browser: {\n              pushServiceURL: 'http://push.api.phonegap.com/v1/push'\n          }\n      };\n\n      const pushObject: PushObject = this.push.init(options);\n\n      pushObject.on('notification').subscribe((notification: any) => {\n          //alert('Received a notification ' + JSON.stringify(notification));\n          if (!notification.additionalData || !notification.additionalData.extras) {\n              return;\n          }\n          this.navCtrl.push('NotificationsPage', { title: notification.additionalData.extras.landingTitle, body: notification.additionalData.extras.landingText }); \n      });\n\n      pushObject.on('registration').subscribe((registration) => {\n          this.afAuth.authState.subscribe(userAuth => {\n              if (!!userAuth) {\n                  this.afDB.object('/userProfile/' + userAuth.uid).update({ pushTocken: registration.registrationId });\n                  return;\n              } else {\n                  let prompt = this.alertCtrl.create({\n                      title: 'Login',\n                      message: \"You need to login to receive push notification\",\n\n                      buttons: [\n                          {\n                              text: 'Login',\n                              handler: data => {\n                                  this.navCtrl.push('LoginPage');\n                              }\n                          }\n                      ]\n                  });\n                  prompt.present();\n              }\n          });\n          //alert('Device registered ' + JSON.stringify(registration));\n      });\n\n      pushObject.on('error').subscribe(error => {\n          alert('Error with Push plugin ' + JSON.stringify(error))\n      });\n  }\n\n\n//push notification for web/browser version\n\n  updateToken(token) {\n\n      this.afAuth.authState.subscribe(userAuth => {\n          if (!!userAuth) {\n              this.afDB.object('/userProfile/' + userAuth.uid).update({ pushTocken: token});\n              return;\n          } else {\n              let prompt = this.alertCtrl.create({\n                  title: 'Login',\n                  message: \"You need to login to receive push notification\",\n\n                  buttons: [\n                      {\n                          text: 'Login',\n                          handler: data => {\n                              this.navCtrl.push('LoginPage');\n                          }\n                      }\n                  ]\n              });\n              prompt.present();\n          }\n      });\n  }\n\n  getPermission() {\n      this.messaging.requestPermission()\n          .then(() => {\n              console.log('Notification permission granted.');\n              return this.messaging.getToken()\n          })\n          .then(token => {\n              console.log(token)\n              this.updateToken(token)\n          })\n          .catch((err) => {\n              console.log('Unable to get permission to notify.', err);\n          });\n  }\n\n  receiveMessage() {\n      this.messaging.onMessage((notification: any) => {\n          console.log(\"Message received. \", notification);\n          this.currentMessage.next(notification);\n          if (!notification || !notification.data) {\n              return;\n          }\n          let data = notification.data;\n          data.extras = JSON.parse(data.extras);\n          this.navCtrl.push('NotificationsPage', { title: data.extras.landingTitle, body: data.extras.landingText }); \n\n      });\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/main/main.ts","import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { MainPage } from './main';\n\n@NgModule({\n  declarations: [\n    MainPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(MainPage),\n  ],\n  exports: [\n    MainPage\n  ]\n})\nexport class MainPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/main/main.module.ts","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar Subject_1 = require('./Subject');\nvar ObjectUnsubscribedError_1 = require('./util/ObjectUnsubscribedError');\n/**\n * @class BehaviorSubject<T>\n */\nvar BehaviorSubject = (function (_super) {\n    __extends(BehaviorSubject, _super);\n    function BehaviorSubject(_value) {\n        _super.call(this);\n        this._value = _value;\n    }\n    Object.defineProperty(BehaviorSubject.prototype, \"value\", {\n        get: function () {\n            return this.getValue();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /** @deprecated internal use only */ BehaviorSubject.prototype._subscribe = function (subscriber) {\n        var subscription = _super.prototype._subscribe.call(this, subscriber);\n        if (subscription && !subscription.closed) {\n            subscriber.next(this._value);\n        }\n        return subscription;\n    };\n    BehaviorSubject.prototype.getValue = function () {\n        if (this.hasError) {\n            throw this.thrownError;\n        }\n        else if (this.closed) {\n            throw new ObjectUnsubscribedError_1.ObjectUnsubscribedError();\n        }\n        else {\n            return this._value;\n        }\n    };\n    BehaviorSubject.prototype.next = function (value) {\n        _super.prototype.next.call(this, this._value = value);\n    };\n    return BehaviorSubject;\n}(Subject_1.Subject));\nexports.BehaviorSubject = BehaviorSubject;\n//# sourceMappingURL=BehaviorSubject.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/rxjs/BehaviorSubject.js\n// module id = 758\n// module chunks = 0 7"],"sourceRoot":""}