{"version":3,"sources":["../../src/pages/components/map-places/marker/map-marker.module.ts","../../src/pages/components/map-places/marker/map-marker.ts"],"names":[],"mappings":"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","file":"41.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { MapMarkerPage } from './map-marker';\nimport { IonicPageModule } from 'ionic-angular';\n\n@NgModule({\n  declarations: [\n    MapMarkerPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(MapMarkerPage),\n  ],\n  exports: [\n    MapMarkerPage\n  ]\n})\nexport class MapMarkerPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/components/map-places/marker/map-marker.module.ts","import { Component,ViewChild,ElementRef  } from '@angular/core';\nimport { IonicPage, NavController, NavParams, LoadingController,ViewController } from 'ionic-angular';\nimport { AngularFireDatabase } from 'angularfire2/database-deprecated';\nimport 'rxjs/add/operator/map'; // you might need to import this, or not depends on your setup\ndeclare var google;\nimport { DatabaseProvider } from '../../../../providers/database/database';\n\n@IonicPage({\n    name: \"MapMarkerPage\",\n    segment: \"places-map-marker\"\n})\n@Component({\n  selector: 'page-map-marker',\n  templateUrl: 'map-marker.html'\n})\n\nexport class MapMarkerPage {\n  @ViewChild('map') mapElement: ElementRef;\n  items: any[] = [];\n  map: any;\n  markerSelected: boolean = false;\n\n  //******************** Map style  **************************//\n  //*****  Ggo to snazzymaps.com for mor map styles  ********//\n  //**********************************************************//\n  mapStyle: any = [{\"featureType\":\"landscape.man_made\",\"elementType\":\"all\",\"stylers\":[{\"color\":\"#faf5ed\"},{\"lightness\":\"0\"},{\"gamma\":\"1\"}]},{\"featureType\":\"poi.park\",\"elementType\":\"geometry.fill\",\"stylers\":[{\"color\":\"#bae5a6\"}]},{\"featureType\":\"road\",\"elementType\":\"all\",\"stylers\":[{\"weight\":\"1.00\"},{\"gamma\":\"1.8\"},{\"saturation\":\"0\"}]},{\"featureType\":\"road\",\"elementType\":\"geometry.fill\",\"stylers\":[{\"hue\":\"#ffb200\"}]},{\"featureType\":\"road.arterial\",\"elementType\":\"geometry.fill\",\"stylers\":[{\"lightness\":\"0\"},{\"gamma\":\"1\"}]},{\"featureType\":\"transit.station.airport\",\"elementType\":\"all\",\"stylers\":[{\"hue\":\"#b000ff\"},{\"saturation\":\"23\"},{\"lightness\":\"-4\"},{\"gamma\":\"0.80\"}]},{\"featureType\":\"water\",\"elementType\":\"all\",\"stylers\":[{\"color\":\"#a0daf2\"}]}];\n\n  //mapStyle: any = [{\"featureType\":\"all\",\"elementType\":\"all\",\"stylers\":[{\"visibility\":\"on\"}]},{\"featureType\":\"all\",\"elementType\":\"labels\",\"stylers\":[{\"visibility\":\"off\"},{\"saturation\":\"-100\"}]},{\"featureType\":\"all\",\"elementType\":\"labels.text.fill\",\"stylers\":[{\"saturation\":36},{\"color\":\"#000000\"},{\"lightness\":40},{\"visibility\":\"off\"}]},{\"featureType\":\"all\",\"elementType\":\"labels.text.stroke\",\"stylers\":[{\"visibility\":\"off\"},{\"color\":\"#000000\"},{\"lightness\":16}]},{\"featureType\":\"all\",\"elementType\":\"labels.icon\",\"stylers\":[{\"visibility\":\"off\"}]},{\"featureType\":\"administrative\",\"elementType\":\"geometry.fill\",\"stylers\":[{\"color\":\"#000000\"},{\"lightness\":20}]},{\"featureType\":\"administrative\",\"elementType\":\"geometry.stroke\",\"stylers\":[{\"color\":\"#000000\"},{\"lightness\":17},{\"weight\":1.2}]},{\"featureType\":\"landscape\",\"elementType\":\"geometry\",\"stylers\":[{\"color\":\"#000000\"},{\"lightness\":20}]},{\"featureType\":\"landscape\",\"elementType\":\"geometry.fill\",\"stylers\":[{\"color\":\"#4d6059\"}]},{\"featureType\":\"landscape\",\"elementType\":\"geometry.stroke\",\"stylers\":[{\"color\":\"#4d6059\"}]},{\"featureType\":\"landscape.natural\",\"elementType\":\"geometry.fill\",\"stylers\":[{\"color\":\"#4d6059\"}]},{\"featureType\":\"poi\",\"elementType\":\"geometry\",\"stylers\":[{\"lightness\":21}]},{\"featureType\":\"poi\",\"elementType\":\"geometry.fill\",\"stylers\":[{\"color\":\"#4d6059\"}]},{\"featureType\":\"poi\",\"elementType\":\"geometry.stroke\",\"stylers\":[{\"color\":\"#4d6059\"}]},{\"featureType\":\"road\",\"elementType\":\"geometry\",\"stylers\":[{\"visibility\":\"on\"},{\"color\":\"#7f8d89\"}]},{\"featureType\":\"road\",\"elementType\":\"geometry.fill\",\"stylers\":[{\"color\":\"#7f8d89\"}]},{\"featureType\":\"road.highway\",\"elementType\":\"geometry.fill\",\"stylers\":[{\"color\":\"#7f8d89\"},{\"lightness\":17}]},{\"featureType\":\"road.highway\",\"elementType\":\"geometry.stroke\",\"stylers\":[{\"color\":\"#7f8d89\"},{\"lightness\":29},{\"weight\":0.2}]},{\"featureType\":\"road.arterial\",\"elementType\":\"geometry\",\"stylers\":[{\"color\":\"#000000\"},{\"lightness\":18}]},{\"featureType\":\"road.arterial\",\"elementType\":\"geometry.fill\",\"stylers\":[{\"color\":\"#7f8d89\"}]},{\"featureType\":\"road.arterial\",\"elementType\":\"geometry.stroke\",\"stylers\":[{\"color\":\"#7f8d89\"}]},{\"featureType\":\"road.local\",\"elementType\":\"geometry\",\"stylers\":[{\"color\":\"#000000\"},{\"lightness\":16}]},{\"featureType\":\"road.local\",\"elementType\":\"geometry.fill\",\"stylers\":[{\"color\":\"#7f8d89\"}]},{\"featureType\":\"road.local\",\"elementType\":\"geometry.stroke\",\"stylers\":[{\"color\":\"#7f8d89\"}]},{\"featureType\":\"transit\",\"elementType\":\"geometry\",\"stylers\":[{\"color\":\"#000000\"},{\"lightness\":19}]},{\"featureType\":\"water\",\"elementType\":\"all\",\"stylers\":[{\"color\":\"#2b3638\"},{\"visibility\":\"on\"}]},{\"featureType\":\"water\",\"elementType\":\"geometry\",\"stylers\":[{\"color\":\"#2b3638\"},{\"lightness\":17}]},{\"featureType\":\"water\",\"elementType\":\"geometry.fill\",\"stylers\":[{\"color\":\"#24282b\"}]},{\"featureType\":\"water\",\"elementType\":\"geometry.stroke\",\"stylers\":[{\"color\":\"#24282b\"}]},{\"featureType\":\"water\",\"elementType\":\"labels\",\"stylers\":[{\"visibility\":\"off\"}]},{\"featureType\":\"water\",\"elementType\":\"labels.text\",\"stylers\":[{\"visibility\":\"off\"}]},{\"featureType\":\"water\",\"elementType\":\"labels.text.fill\",\"stylers\":[{\"visibility\":\"off\"}]},{\"featureType\":\"water\",\"elementType\":\"labels.text.stroke\",\"stylers\":[{\"visibility\":\"off\"}]},{\"featureType\":\"water\",\"elementType\":\"labels.icon\",\"stylers\":[{\"visibility\":\"off\"}]}];\n\n  public infoWindows: any=[];\n\n  constructor(public navCtrl: NavController, public navParams: NavParams, public loadingCtrl: LoadingController, public viewCtrl: ViewController, public afDB: AngularFireDatabase,\n      public db: DatabaseProvider) {    \n    let loadingPopup = this.loadingCtrl.create({\n      spinner: 'crescent',\n      content: ''\n    });\n    loadingPopup.present();\n    //this.afDB.list('/map').subscribe(mapList => {\n    //    this.items = mapList;\n    //    loadingPopup.dismiss();  \n    //})\n    let that = this;\n    db.getAllCollections('map')\n        .then(function (e) {\n            if (!!e) {\n                console.log(e)\n                that.items = e;\n            }\n            loadingPopup.dismiss();\n            that.displayGoogleMap();\n        });\n  }\n\n  ionViewDidLoad() {\n  }\n\n  displayGoogleMap() {\n    let latLng = new google.maps.LatLng(13.801532791932946, 100.54677690766607);\n    let mapOptions = {\n        center: latLng,\n        zoom: 3,\n        styles: this.mapStyle,\n        mapTypeId: google.maps.MapTypeId.ROADMAP,\n        disableDefaultUI: true\n    };\n    this.map = new google.maps.Map(this.mapElement.nativeElement, mapOptions);\n    this.addMarkersToMap()\n  }\n\n  addMarkersToMap() {\n    for(let items of this.items) {console.log(items)\n      var position = new google.maps.LatLng(items.lat, items.lng);\n      var mapMarker = new google.maps.Marker({\n            position: position,\n            animation: google.maps.Animation.DROP,\n            markerSelected : true,\n            title: items.name,\n            email: items.email,\n            web: items.web,\n            phone: items.phone,\n            //**** Custom Marker Symbols ****/\n            //icon:  'assets/red_pin72x96.png'\n            icon: {\n                    url: 'assets/red_pin72x96.png',\n                    //The size image file.\n                    size: new google.maps.Size(72, 96),\n                    // we want to render @ 30x30 logical px (@2x dppx or 'Retina')\n                    scaledSize: new google.maps.Size(40, 52), \n                    //The point on the image to measure the anchor from. 0, 0 is the top left.\n                    origin: new google.maps.Point(0, 0),\n                    //The x y coordinates of the anchor point on the marker. e.g. If your map marker was a drawing pin then the anchor would be the tip of the pin.\n                    anchor: new google.maps.Point(20, 40),\n                    labelOrigin: new google.maps.Point(20, 12)\n                },\n                anchorPoint: new google.maps.Point(0, -40)\n      });\n      mapMarker.setMap(this.map);\n      this.addInfoWindowToMarker(mapMarker);\n      this.map.setCenter(position);\n    }\n  \n  }\n\n  addInfoWindowToMarker(marker) {\n\n      var infoWindowContent = '<div id=\"iw-container\">' +               \n                                  '<div class=\"iw-content\">' +\n                                        '<div class=\"iw-subTitle\">'+marker.title+'</div>' +                                  \n                                        '<br><b>Phone: </b> '+marker.phone+'<br><b>E-mail: </b>'+marker.email+'<br><b>Website: </b> '+marker.web+'</p>'+\n                                  '</div>' +\n                                  //'<div id=\"do-something-button\">button</div>' +\n                              '</div>';    \n\n      var infoWindow = new google.maps.InfoWindow();\n          // infoWindow.setOptions({\n          //     disableAutoPan:false\n          // }); \n          infoWindow.setContent(infoWindowContent);\n\n          marker.addListener('click', () => {\n                this.closeAllInfoWindows();\n                infoWindow.open(this.map, marker);\n                // add listener that will capture the click event of the infoWindow\n                // google.maps.event.addListener(infoWindow, 'domready', () => {\n                //   document.getElementById('do-something-button').addEventListener('click', () => {\n                //      this.doSomething();\n                //   });\n                // }); \n\n          });\n          this.infoWindows.push(infoWindow);\n  }\n\n  doSomething(){\n    console.log(\"doSomething\");\n  }\n\n  closeAllInfoWindows() {\n      for(let window of this.infoWindows) { \n        window.close();\n      }\n  }\n \n  dismiss() {\n   this.viewCtrl.dismiss();\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/components/map-places/marker/map-marker.ts"],"sourceRoot":""}