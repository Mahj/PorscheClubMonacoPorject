{"version":3,"sources":["../../src/pages/components/map-places/inner-details/map-sub-detail.module.ts","../../src/pages/components/map-places/inner-details/map-sub-detail.ts"],"names":[],"mappings":"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","file":"35.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { MapSubDetailPage } from './map-sub-detail';\nimport { IonicPageModule } from 'ionic-angular';\n\n@NgModule({\n  declarations: [\n    MapSubDetailPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(MapSubDetailPage),\n  ],\n  exports: [\n    MapSubDetailPage\n  ]\n})\nexport class MapSubDetailPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/components/map-places/inner-details/map-sub-detail.module.ts","import { Component, ChangeDetectorRef  } from '@angular/core';\nimport { IonicPage, NavController, NavParams, LoadingController, ViewController, ToastController, ModalController, Platform, AlertController} from 'ionic-angular';\nimport { AngularFireDatabase} from 'angularfire2/database-deprecated';\nimport { DatabaseProvider } from '../../../../providers/database/database';\nimport { GalleryModal } from 'ionic-gallery-modal';\nimport { CallNumber } from \"@ionic-native/call-number\";\n\n@IonicPage({\n    name: \"MapSubDetailPage\",\n    segment: \"map-sub-details\"\n})\n@Component({\n  selector: 'page-map-sub-detail',\n  templateUrl: 'map-sub-detail.html'\n})\nexport class MapSubDetailPage {\n    favorite: boolean;\n  mapId: any;\n  map: any;\n\n  //****** Variables for fading header *******//\n  showToolbar:boolean = false;\n  transition:boolean = false;\n  headerImgSize:string = '100%';\n  headerImgUrl:string = '';\n\n  constructor(public navCtrl: NavController, public navParams: NavParams, public afDB: AngularFireDatabase, public ref: ChangeDetectorRef, public viewCtrl: ViewController,\n      public loadingCtrl: LoadingController, private toastCtrl: ToastController, public db: DatabaseProvider, public modalCtrl: ModalController, public platform: Platform,\n      public alertCtrl: AlertController, private callNumber: CallNumber) {\n    let loadingPopup = this.loadingCtrl.create({\n        spinner: 'crescent',\n        content: ''\n    });\n    loadingPopup.present();   \n    this.mapId = this.navParams.get('mapId');\n    let that = this;\n    db.getDocumentsByName('map', this.mapId)\n        .then(function (e) {\n            if (!!e) {\n                console.log(e)\n                that.map = e;\n            }\n            loadingPopup.dismiss();\n        });\n  }\n\n    closeModal() {\n        this.viewCtrl.dismiss();\n    }\n\n //*********** Fading header  **************/\n    onScroll($event: any){\n        let scrollTop = $event.scrollTop;\n        this.showToolbar = scrollTop >= 100;\n        if(scrollTop < 0){\n            this.transition = false;\n            this.headerImgSize = `${ Math.abs(scrollTop)/2 + 100}%`;\n        }else{\n            this.transition = true;\n            this.headerImgSize = '100%'\n        }\n        this.ref.detectChanges();\n    }\n\n    addToFav() {\n        this.favorite = !this.favorite;\n        this.presentToast('bottom', 'Add to Favorite');\n    }\n\n\n    presentToast(position: string, message: string) {\n        let toast = this.toastCtrl.create({\n            message: message,\n            position: position,\n            duration: 1000\n        });\n        toast.onDidDismiss(this.dismissHandler);\n        toast.present();\n    }\n\n    private dismissHandler() {\n        console.info('Toast onDidDismiss()');\n    }\n\n    fullscreenImage(getImage) {\n        let modal = this.modalCtrl.create(GalleryModal, {\n            // For multiple images //\n            //photos: this.imgGalleryArray,\n            // For single image //\n            photos: [{ url: getImage }],\n            closeIcon: 'close-circle',\n            //initialSlide: getIndex\n        });\n        modal.present();\n    }\n\n\n    launchNavigation(latitude, longitude, label = 'map') {\n        let destination = latitude + ',' + longitude;\n\n        if (this.platform.is('ios')) {\n            window.open('maps://?q=' + destination, '_system');\n        } else {\n            let label = encodeURI('My Label');\n            window.open('geo:0,0?q=' + destination + '(' + label + ')', '_system');\n        }\n    }\n\n    MakeCall(number) {\n        if (!(<any>window).cordova) {\n            let alert = this.alertCtrl.create({\n                title: 'Attention',\n                subTitle: 'This platform is not compatible with this functionality',\n                buttons: ['OK']\n            });\n            alert.present();\n            return;\n        }\n        if (this.callNumber.isCallSupported()) {\n            this.callNumber.callNumber(number, true)\n                .then(() => {\n                    console.log('Launched dialer!')\n                })\n                .catch(() => {\n                    this.presentToast('bottom', 'launching dialer Failed');\n                    console.log('Error launching dialer')\n                });\n        } else {\n            let alert = this.alertCtrl.create({\n                title: 'Attention',\n                subTitle: 'This platform is not compatible with this functionality',\n                buttons: ['OK']\n            });\n            alert.present();\n        }\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/components/map-places/inner-details/map-sub-detail.ts"],"sourceRoot":""}